!function(e,n){"use strict";var t={sectionContainer:"section",easing:"ease",animationTime:1e3,pagination:!0,paginationTarget:"body",updateURL:!1,touchEnabled:!0,mousewheelEnabled:!0,keyboard:!0,beforeMove:null,afterMove:null,loop:!1};e.fn.swipeEvents=function(){return this.each(function(){function n(e){var n=e.originalEvent.touches;n&&n.length&&(a=n[0].pageX,i=n[0].pageY,o.bind("touchmove",t)),e.preventDefault()}function t(e){var n=e.originalEvent.touches;if(n&&n.length){var r=a-n[0].pageX,s=i-n[0].pageY,l=50;r>=l&&o.trigger("swipeLeft"),-l>=r&&o.trigger("swipeRight"),s>=l&&o.trigger("swipeUp"),-l>=s&&o.trigger("swipeDown"),(Math.abs(r)>=l||Math.abs(s)>=l)&&o.unbind("touchmove",t)}e.preventDefault()}var a,i,o=e(this);o.bind("touchstart",n)})},e.fn.onepage_scroll=function(a){function i(e){c.removeClass("active").filter("[data-index='"+e+"']").addClass("active")}function o(e){g[0].className=g[0].className.replace(/\bviewing-page-\d.*?\b/g,""),g.addClass("viewing-page-"+e)}function r(e){if(window.history.replaceState&&u.updateURL===!0){var n=window.location.href.substr(0,window.location.href.indexOf("#"))+"#"+e;window.history.pushState({},window.document.title,n)}}function s(){return p.filter(".active").data("index")}function l(){return p.filter(".active")}function d(e){return p.filter("[data-index='"+e+"']")}function f(e,n){var t=n,a=(new Date).getTime();return a-h<b+u.animationTime?void e.preventDefault():(0>t?v.moveDown():v.moveUp(),void(h=a))}var c,u=e.extend({},t,a),v=e(this),p=e(u.sectionContainer),g=e("body"),m=p.length,w=0,h=0,b=500,T="";if(v.bind("beforeMove",function(e,n,t){u.pagination===!0&&i(t),o(n),r(n),"function"==typeof u.beforeMove&&u.beforeMove(n,t)}),v.bind("afterMove",function(e,n,t){"function"==typeof u.afterMove&&u.afterMove(n,t)}),e.fn.transformPage=function(e,t,a,i){v.trigger("beforeMove",[a,i]),n.csstransitions?v.css({"-webkit-transform":"translate3d(0, "+t+"%, 0)","-webkit-transition":"all "+e.animationTime+"ms "+e.easing,"-moz-transform":"translate3d(0, "+t+"%, 0)","-moz-transition":"all "+e.animationTime+"ms "+e.easing,"-ms-transform":"translate3d(0, "+t+"%, 0)","-ms-transition":"all "+e.animationTime+"ms "+e.easing,transform:"translate3d(0, "+t+"%, 0)",transition:"all "+e.animationTime+"ms "+e.easing}).one("webkitTransitionEnd otransitionend oTransitionEnd msTransitionEnd transitionend",function(){v.trigger("afterMove",[a,i])}):v.animate({top:t+"%"},e.animationTime,"swing",function(){v.trigger("afterMove",[a,i])})},e.fn.moveTo=function(e){var n,t,a,i;n=s(),n!==e&&(u.loop===!0&&(e=(e-1+m)%m+1),a=d(e),a.length&&(i=100*(1-e),t=l(),t.removeClass("active"),a.addClass("active"),v.transformPage(u,i,n,e)))},e.fn.move=function(e){var n=p.filter(".active").data("index");"up"===e?n-=1:n+=1,v.moveTo(n)},e.fn.moveDown=function(){v.move("down")},e.fn.moveUp=function(){v.move("up")},v.addClass("onepage-wrapper").css("position","relative"),e.each(p,function(n){e(this).css({position:"absolute",top:w+"%"}).addClass("section").attr("data-index",n+1),w+=100,u.pagination===!0&&(T+="<li><a data-index='"+(n+1)+"' href='#"+(n+1)+"'></a></li>")}),u.touchEnabled===!0&&v.swipeEvents().bind("swipeDown",function(){v.moveUp()}).bind("swipeUp",function(){v.moveDown()}),u.pagination===!0){e("<ul class='onepage-pagination'>"+T+"</ul>").prependTo(u.paginationTarget);var M=v.find(".onepage-pagination").height()/2*-1;v.find(".onepage-pagination").css("margin-top",M),c=e(".onepage-pagination li a")}if(""!==window.location.hash&&"#1"!==window.location.hash){var D=window.location.hash.replace("#",""),E=p.filter("[data-index='"+D+"']");E&&r(D),v.moveTo(D)}else d(1).addClass("active"),o(1),u.pagination===!0&&i(1);return u.pagination===!0&&c.click(function(n){var t=e(this).data("index");e(this).hasClass("active")||v.moveTo(t),u.updateURL===!1&&n.preventDefault()}),u.mousewheelEnabled===!0&&v.bind("mousewheel DOMMouseScroll",function(e){if("SELECT"!==e.target.tagName){e.preventDefault();var n=e.originalEvent.wheelDelta||-e.originalEvent.detail;f(e,n)}}),u.keyboard===!0&&e(window.document).keydown(function(e){var n=e.target.tagName.toLowerCase();switch(e.which){case 38:"input"!==n&&"textarea"!==n&&v.moveUp();break;case 40:"input"!==n&&"textarea"!==n&&v.moveDown();break;default:return}e.preventDefault()}),this}}(jQuery,window.Modernizr);